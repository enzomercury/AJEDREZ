<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Jaque a la Vanguardia â€” Arte Ã— ComputaciÃ³n</title>
    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      :root{
        --bordo:#7a1c1c;      /* principal */
        --bordo-2:#9b2c2c;    /* secciones */
        --bordo-3:#f3d9d9;    /* fondo claro */
      }
      .fade-enter{opacity:.0;transform:scale(.98)}
      .fade-enter-active{opacity:1;transform:scale(1);transition:opacity .35s ease, transform .35s ease}
      .cell{box-shadow: inset 0 0 0 1px rgba(0,0,0,.05)}
    </style>
  </head>
  <body class="min-h-screen bg-gradient-to-b from-white to-rose-50 text-slate-900">
    <div id="root" class="p-6"></div>

    <!-- React 18 UMD + Babel (para usar JSX sin build) -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- ==== App (JSX) ==== -->
    <script type="text/babel">
      const { useState, useEffect, useRef } = React;

      // ===================== GalerÃ­a =====================
      const GALLERY_ITEMS = [
        { name: "Rey", file: "foto1.jpg" },
        { name: "Reina", file: "foto2.jpg" },
        { name: "Alfil", file: "foto3.jpg" },
        { name: "Caballo", file: "foto4.jpg" },
        { name: "Torre", file: "foto5.jpg" },
        { name: "PeÃ³n", file: "foto6.jpg" },
      ];

      function useInterval(callback, delay){
        const saved = useRef(callback);
        useEffect(()=>{ saved.current = callback; }, [callback]);
        useEffect(()=>{ if(delay===null) return; const id=setInterval(()=>saved.current(), delay); return ()=>clearInterval(id); },[delay]);
      }

      function GalleryCarousel(){
        const [i, setI] = useState(0);
        const [auto, setAuto] = useState(true);
        const current = GALLERY_ITEMS[i];
        useInterval(()=> setI(prev => (prev+1)%GALLERY_ITEMS.length), auto? 4000 : null);

        return (
          <div className="relative w-full max-w-3xl mx-auto">
            <div className="aspect-[4/3] rounded-2xl overflow-hidden shadow-xl" style={{background:"var(--bordo-3)"}}>
              <figure key={current.file} className="fade-enter fade-enter-active w-full h-full flex items-center justify-center">
                <img
                  src={current.file}
                  alt={current.name}
                  className="w-full h-full object-cover"
                  onError={(e)=>{
                    e.currentTarget.style.display='none';
                    const parent = e.currentTarget.parentElement;
                    if(parent && !parent.querySelector('.fallback')){
                      const div = document.createElement('div');
                      div.className='fallback flex flex-col items-center justify-center w-full h-full text-center p-6 bg-rose-100';
                      div.innerHTML = `<div class='text-6xl'>ðŸŽ¨</div><div class='mt-2 font-semibold'>${current.name}</div><div class='text-xs opacity-70'>SubÃ­ ${current.file} al repo</div>`;
                      parent.appendChild(div);
                    }
                  }}
                />
              </figure>
            </div>

            <div className="absolute inset-0 flex items-center justify-between p-2">
              <button onClick={()=>setI(x => (x-1+GALLERY_ITEMS.length)%GALLERY_ITEMS.length)} className="rounded-full p-2 bg-white/80 hover:bg-white shadow" aria-label="Anterior">â—€</button>
              <button onClick={()=>setI(x => (x+1)%GALLERY_ITEMS.length)} className="rounded-full p-2 bg-white/80 hover:bg-white shadow" aria-label="Siguiente">â–¶</button>
            </div>

            <div className="mt-3 flex items-center justify-between">
              <div className="text-sm font-medium">
                <span>{current.name}</span>
                <span className="opacity-60"> â€” {current.file}</span>
              </div>
              <button onClick={()=>setAuto(a=>!a)} className="px-3 py-1.5 rounded-full border shadow-sm text-white" style={{background:"var(--bordo)"}}>
                {auto ? 'Pausar' : 'Reproducir'}
              </button>
            </div>

            <div className="mt-2 flex items-center justify-center gap-1">
              {GALLERY_ITEMS.map((_, idx)=> (
                <button key={idx} onClick={()=>setI(idx)} className={`h-2 w-6 rounded-full ${idx===i? 'bg-neutral-800':'bg-neutral-400'}`} aria-label={`Ir a imagen ${idx+1}`}></button>
              ))}
            </div>
          </div>
        );
      }

      // ===================== App (solo Intro + GalerÃ­a en vertical) =====================
      function App(){
        return (
          <div className="max-w-4xl mx-auto flex flex-col gap-6">
            {/* Intro */}
            <section className="p-6 rounded-2xl shadow-lg text-white" style={{background:'var(--bordo)'}}>
              <div className="flex items-start justify-between">
                <h1 className="text-3xl font-extrabold leading-tight">Ajedrez<br/>Interdisciplinario</h1>
                <span className="text-xs bg-white/20 rounded px-2 py-1 mt-1">Arte Ã— ComputaciÃ³n</span>
              </div>
              <p className="mt-3 text-sm opacity-95 max-w-3xl">
                Proyecto conjunto con piezas intervenidas en estilos <em>minimalista</em> y <em>surrealista</em>.
                NavegÃ¡ la galerÃ­a y explorÃ¡ el tablero interactivo.
              </p>
            </section>

            {/* GalerÃ­a (Ãºnico bloque visible debajo) */}
            <section className="p-6 rounded-2xl shadow-lg text-white" style={{background:'var(--bordo-2)'}}>
              <div className="flex items-center gap-2 mb-3">
                <span>ðŸ“·</span>
                <h2 className="text-lg font-semibold">GalerÃ­a â€” Piezas del tablero</h2>
              </div>
              <GalleryCarousel />
            </section>

            <footer className="text-center text-xs text-neutral-700">
              Â© <span id="year"></span> Arte Ã— ComputaciÃ³n â€” Liceo / UTU
            </footer>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App/>);
      document.getElementById('year').textContent = new Date().getFullYear();
    </script>
  </body>
</html>

